import{a as be,r as m,j as t,h as Re,S as x,_ as Ae,N as l,$ as ke,a0 as Ce,a1 as F,a2 as se,a3 as Oe}from"./index-3pZLK3h4.js";import{C as ne}from"./Collapsible-_WuiTKIw.js";import{v as Se}from"./scheduling-mgpGDE0C.js";import{c as R}from"./pii-BcFV6mqh.js";import{S as re,C as De,B as we,a as le}from"./BulkActionBar-De6FWB2Q.js";function ie(d){if(!d)return"";const o=d instanceof Date?d:new Date(d);return Number.isNaN(o.getTime())?String(d):o.toLocaleString()}function We(d){const o=String(d||"").toUpperCase();return o==="APPROVED"?{background:"#22c55e",color:"#fff"}:o==="REJECTED"?{background:"#ef4444",color:"#fff"}:o==="REVIEW_PENDING"?{background:"#f59e0b",color:"#fff"}:o==="PENDING"?{background:"var(--gray-200)",color:"var(--gray-800)"}:{background:"var(--gray-100)",color:"var(--gray-700)"}}function Te(d){const o=String(d||"").toUpperCase();return o==="APPROVED"?"PASS":o==="REJECTED"?"FAIL":o==="REVIEW_PENDING"?"REVIEW PENDING":o==="NOT_SELECTED"?"NOT SELECTED":o||"-"}function $e(){var G,Y,Q,X,Z,ee,te,ae;const{token:d,legacyRole:o,canPortal:M,canAction:$,canUi:B}=be();function de(e,s){const a=typeof M=="function"?M(e):null;if(a===!0||a===!1)return a;const r=String(o||"").toUpperCase();return(Array.isArray(s)?s:[]).includes(r)}function c(e,s){const a=typeof $=="function"?$(e):null;if(a===!0||a===!1)return a;const r=String(o||"").toUpperCase();return(Array.isArray(s)?s:[]).includes(r)}function q(e,s){const a=typeof B=="function"?B(e):null;if(a===!0||a===!1)return a;const r=String(o||"").toUpperCase();return(Array.isArray(s)?s:[]).includes(r)}function oe(e,s){try{const a=JSON.parse(String((e==null?void 0:e.testDecisionsJson)||"{}")),r=a==null?void 0:a[s];return String((r==null?void 0:r.decision)||"").toUpperCase()==="CONTINUE"}catch{return!1}}const ce=m.useMemo(()=>[{key:"APPROVE",label:"Approve"},{key:"FINAL",label:"Final"}],[]),[U,ue]=m.useState("APPROVE"),[O,V]=m.useState(!1),[S,pe]=m.useState([]),[D,H]=m.useState({}),[u,I]=m.useState({open:!1,mode:"OWNER",candidate:null}),[w,W]=m.useState(""),[T,L]=m.useState(""),[p,f]=m.useState(""),[_,K]=m.useState({open:!1,candidate:null}),[v,A]=m.useState({}),[b,k]=m.useState({}),[y,j]=m.useState({open:!1,title:"",current:0,total:0,errors:[]});async function me(e){if(!c("CANDIDATE_TESTS_GET",["OWNER","ADMIN"]))return;if(!Array.isArray(e)||e.length===0){H({});return}const s=e.map(n=>Oe(d,{requirementId:n.requirementId,candidateId:n.candidateId}).then(i=>[n.candidateId,i]).catch(()=>null)),a=await Promise.all(s),r={};for(const n of a)n&&(r[n[0]]=n[1]);H(r)}async function N(){if(!c("OWNER_CANDIDATES_LIST",["OWNER","ADMIN"])){l.error("Not allowed");return}V(!0);try{const s=(await ke(d)).items||[];pe(s),await me(s.filter(a=>String((a==null?void 0:a.status)||"").toUpperCase()==="FINAL_OWNER_PENDING"))}catch(e){l.error((e==null?void 0:e.message)||"Failed to load")}finally{V(!1)}}m.useEffect(()=>{N()},[]);function ge(e){I({open:!0,mode:"OWNER",candidate:e}),W(""),L("")}function he(e){I({open:!0,mode:"FINAL",candidate:e}),W(""),L("")}function z(e){if(!(e!=null&&e.cvFileId)){l.error("CV not available");return}K({open:!0,candidate:e})}function fe(e,s){A(a=>{const r={...a};return s?r[e]=!0:delete r[e],r})}function Ne(e,s){k(a=>{const r={...a};return s?r[e]=!0:delete r[e],r})}function xe(e){if(e){const s={};g.forEach(a=>{s[a.candidateId]=!0}),A(s)}else A({})}function ye(e){if(e){const s={};h.forEach(a=>{s[a.candidateId]=!0}),k(s)}else k({})}async function je(){const e=Object.keys(v);if(e.length===0){l.error("Select candidates first");return}j({open:!0,title:"Bulk Approving...",current:0,total:e.length,errors:[]});let s=[];for(let a=0;a<e.length;a++){const r=e[a],n=g.find(i=>i.candidateId===r);if(n){j(i=>({...i,current:a+1}));try{await se(d,{requirementId:n.requirementId,candidateId:r,decision:"APPROVE_WALKIN",remark:"Bulk approved"})}catch(i){s.push({id:r,message:(i==null?void 0:i.message)||"Failed"})}}}j(a=>({...a,errors:s})),l.success(`Bulk approved: ${e.length-s.length}/${e.length}`),A({}),await N()}async function Ee(){const e=Object.keys(b);if(e.length===0){l.error("Select candidates first");return}j({open:!0,title:"Bulk Selecting...",current:0,total:e.length,errors:[]});let s=[];for(let a=0;a<e.length;a++){const r=e[a],n=h.find(i=>i.candidateId===r);if(n){j(i=>({...i,current:a+1}));try{await F(d,{requirementId:n.requirementId,candidateId:r,decision:"SELECT",remark:"Bulk selected"})}catch(i){s.push({id:r,message:(i==null?void 0:i.message)||"Failed"})}}}j(a=>({...a,errors:s})),l.success(`Bulk selected: ${e.length-s.length}/${e.length}`),k({}),await N()}async function P(e){if(!c("OWNER_DECIDE",["OWNER","ADMIN"])){l.error("Not allowed");return}if(e==="APPROVE_WALKIN"&&!q("BTN_OWNER_APPROVE_WALKIN",["OWNER","ADMIN"])){l.error("Not allowed");return}const s=u.candidate;if(!s)return;const a=s.requirementId,r=s.candidateId,n=String(w||"").trim();let i=null;if(e==="REJECT"&&!n){l.error("Remark required");return}if(e==="HOLD"){if(!T){l.error("Select hold deadline");return}const E=Se(T);if(!E.ok){l.error(E.message);return}i=E.date}const C=`${r}:${e}`;f(C);try{await se(d,{requirementId:a,candidateId:r,decision:e==="APPROVE_WALKIN"?"APPROVE_WALKIN":e,remark:n,holdUntil:e==="HOLD"?i.toISOString():void 0}),l.success("Updated"),I({open:!1,mode:"OWNER",candidate:null}),await N()}catch(E){l.error((E==null?void 0:E.message)||"Failed")}finally{f("")}}async function J(e){if(!c("OWNER_FINAL_DECIDE",["OWNER","ADMIN"])){l.error("Not allowed");return}const s=u.candidate;if(!s)return;const a=s.requirementId,r=s.candidateId,n=String(w||"").trim();if(e==="REJECT"&&!n){l.error("Remark required");return}const i=`${r}:FINAL:${e}`;f(i);try{await F(d,{requirementId:a,candidateId:r,decision:e,remark:n}),l.success("Updated"),I({open:!1,mode:"FINAL",candidate:null}),await N()}catch(C){l.error((C==null?void 0:C.message)||"Failed")}finally{f("")}}async function Ie(e){if(!c("OWNER_FINAL_DECIDE",["OWNER","ADMIN"])){l.error("Not allowed");return}const s=`${e.candidateId}:FINAL:SELECT`;f(s);try{await F(d,{requirementId:e.requirementId,candidateId:e.candidateId,decision:"SELECT",remark:""}),l.success("Selected"),await N()}catch(a){l.error((a==null?void 0:a.message)||"Failed")}finally{f("")}}async function ve(e){if(!c("HOLD_REVERT",["OWNER","ADMIN"])){l.error("Not allowed");return}const s=`${e.candidateId}:REVERT`;f(s);try{await Ce(d,{requirementId:e.requirementId,candidateId:e.candidateId,remark:"Revert"}),l.success("Reverted"),await N()}catch(a){l.error((a==null?void 0:a.message)||"Revert failed")}finally{f("")}}const g=S.filter(e=>{const s=String(e.status||"").toUpperCase();return s==="OWNER"||s==="OWNER_HOLD"}),h=S.filter(e=>String(e.status||"").toUpperCase()==="FINAL_OWNER_PENDING");return t.jsxs(Re,{children:[de("PORTAL_OWNER",["OWNER","ADMIN"])?null:t.jsxs("div",{className:"card",style:{padding:12,marginBottom:12},children:[t.jsx("div",{style:{fontWeight:700},children:"Not allowed"}),t.jsx("div",{className:"small",style:{color:"var(--gray-600)"},children:"You donâ€™t have access to Owner portal."})]}),t.jsxs("div",{style:{marginBottom:"20px"},children:[t.jsx("h1",{className:"page-title",children:"Owner Portal"}),t.jsx("p",{className:"page-subtitle",children:"Review and make decisions on candidates"})]}),t.jsxs("div",{className:"card",style:{marginBottom:"16px"},children:[t.jsxs("div",{className:"row",style:{gap:12,alignItems:"flex-end",flexWrap:"wrap"},children:[t.jsxs("button",{className:"button",onClick:N,disabled:O,style:{display:"flex",alignItems:"center",gap:6},children:[O?t.jsx(x,{size:14}):null,"Refresh"]}),t.jsx("div",{style:{marginLeft:"auto"},children:t.jsxs("span",{className:"badge",children:[S.length," candidates"]})})]}),t.jsx("div",{style:{height:12}}),t.jsx("div",{className:"tabs",children:ce.map(e=>t.jsxs("button",{type:"button",className:["tab",U===e.key?"active":""].join(" "),onClick:()=>ue(e.key),children:[e.label," (",e.key==="APPROVE"?g.length:h.length,")"]},e.key))})]}),O?t.jsx(Ae,{text:"Loading candidates..."}):t.jsx(t.Fragment,{children:U==="APPROVE"?t.jsx(ne,{title:"Candidates for Approval",subtitle:"Approve, hold, or reject candidate applications",badge:g.length,variant:"card",defaultOpen:!0,children:g.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-state-icon",children:"ðŸ“‹"}),t.jsx("div",{className:"empty-state-text",children:"No candidates pending approval"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{marginBottom:12,padding:"8px 12px",background:"var(--gray-50)",borderRadius:8},children:t.jsx(re,{checked:Object.keys(v).length===g.length,indeterminate:Object.keys(v).length>0&&Object.keys(v).length<g.length,onChange:xe,label:`Select All (${g.length})`})}),t.jsx("div",{style:{display:"grid",gap:10},children:g.map(e=>{const s=String(e.status||"").toUpperCase(),a=s==="OWNER_HOLD",r=e.holdUntil?new Date(e.holdUntil).toLocaleString():"",n=!!v[e.candidateId];return t.jsx("div",{className:"card",style:{background:n?"rgba(59, 130, 246, 0.05)":"#fff",border:n?"2px solid var(--primary)":"1px solid var(--gray-200)",transition:"all 0.2s ease"},children:t.jsxs("div",{className:"row",style:{justifyContent:"space-between",gap:12,flexWrap:"wrap"},children:[t.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start"},children:[t.jsx("input",{type:"checkbox",checked:n,onChange:i=>fe(e.candidateId,i.target.checked),style:{width:18,height:18,marginTop:4,cursor:"pointer"}}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontWeight:700,fontSize:"15px"},children:[R(e)||e.candidateId,R(e)&&e.candidateId?t.jsxs("span",{className:"small",style:{fontWeight:400,marginLeft:8,color:"var(--gray-500)"},children:["(",e.candidateId,")"]}):null]}),t.jsxs("div",{className:"small",style:{color:"var(--gray-500)",marginTop:2},children:[e.jobRole||"-"," Â· ",e.source||"-"]}),t.jsxs("div",{style:{marginTop:6,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(140px, 1fr))",gap:4},children:[e.phone&&t.jsxs("div",{className:"small",children:["ðŸ“ž ",e.phone]}),e.email&&t.jsxs("div",{className:"small",children:["âœ‰ï¸ ",e.email]}),e.experience&&t.jsxs("div",{className:"small",children:["ðŸ’¼ Exp: ",e.experience]}),e.currentSalary&&t.jsxs("div",{className:"small",children:["ðŸ’° Current: ",e.currentSalary]}),e.expectedSalary&&t.jsxs("div",{className:"small",children:["ðŸ’µ Expected: ",e.expectedSalary]})]}),t.jsxs("div",{style:{marginTop:8,display:"flex",gap:8,flexWrap:"wrap"},children:[t.jsxs("span",{className:"badge",children:["Req: ",e.requirementId]}),t.jsx("span",{className:"badge",style:{background:a?"#f59e0b":"var(--primary)",color:"#fff"},children:s})]}),a&&r&&t.jsxs("div",{className:"small",style:{marginTop:6,color:"var(--gray-600)"},children:["â° Hold deadline: ",r]})]})]}),t.jsxs("div",{className:"action-grid",children:[t.jsx("button",{className:"button",type:"button",onClick:()=>z(e),children:"ðŸ“„ CV"}),a?t.jsxs("button",{className:"button",type:"button",onClick:()=>ve(e),disabled:!!p||!c("HOLD_REVERT",["OWNER","ADMIN"]),children:[p===`${e.candidateId}:REVERT`?t.jsx(x,{size:14}):null,"Revert"]}):t.jsx("button",{className:"button primary",type:"button",onClick:()=>{if(!c("OWNER_DECIDE",["OWNER","ADMIN"])){l.error("Not allowed");return}ge(e)},disabled:!c("OWNER_DECIDE",["OWNER","ADMIN"]),children:"Actions"})]})]})},e.candidateId)})})]})}):t.jsx(ne,{title:"Final Decision",subtitle:"Make final hiring decisions for candidates",badge:h.length,variant:"card",defaultOpen:!0,children:h.length===0?t.jsxs("div",{className:"empty-state",children:[t.jsx("div",{className:"empty-state-icon",children:"âš–ï¸"}),t.jsx("div",{className:"empty-state-text",children:"No candidates pending final decision"})]}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{marginBottom:12,padding:"8px 12px",background:"var(--gray-50)",borderRadius:8},children:t.jsx(re,{checked:Object.keys(b).length===h.length,indeterminate:Object.keys(b).length>0&&Object.keys(b).length<h.length,onChange:ye,label:`Select All (${h.length})`})}),t.jsx("div",{style:{display:"grid",gap:10},children:h.map(e=>{var r;const s=((r=D==null?void 0:D[e.candidateId])==null?void 0:r.requiredTests)??[],a=!!b[e.candidateId];return t.jsx("div",{className:"card",style:{background:a?"rgba(59, 130, 246, 0.05)":"#fff",border:a?"2px solid var(--primary)":"1px solid var(--gray-200)",transition:"all 0.2s ease"},children:t.jsxs("div",{className:"row",style:{justifyContent:"space-between",gap:12,flexWrap:"wrap",alignItems:"flex-start"},children:[t.jsxs("div",{style:{display:"flex",gap:12,alignItems:"flex-start",minWidth:280,flex:1},children:[t.jsx("input",{type:"checkbox",checked:a,onChange:n=>Ne(e.candidateId,n.target.checked),style:{width:18,height:18,marginTop:4,cursor:"pointer"}}),t.jsxs("div",{style:{flex:1},children:[t.jsxs("div",{style:{fontWeight:700,fontSize:"15px"},children:[R(e)||e.candidateId,R(e)&&e.candidateId?t.jsxs("span",{className:"small",style:{fontWeight:400,marginLeft:8,color:"var(--gray-500)"},children:["(",e.candidateId,")"]}):null]}),t.jsxs("div",{className:"small",style:{color:"var(--gray-500)",marginTop:2},children:[e.jobTitle?`${e.jobTitle} Â· `:"",e.jobRole||"-"]}),t.jsxs("div",{style:{marginTop:8,display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(160px, 1fr))",gap:6,padding:"8px 12px",background:"var(--gray-50)",borderRadius:8},children:[e.phone&&t.jsxs("div",{className:"small",children:["ðŸ“ž ",t.jsx("strong",{children:"Phone:"})," ",e.phone]}),e.email&&t.jsxs("div",{className:"small",children:["âœ‰ï¸ ",t.jsx("strong",{children:"Email:"})," ",e.email]}),e.experience&&t.jsxs("div",{className:"small",children:["ðŸ’¼ ",t.jsx("strong",{children:"Experience:"})," ",e.experience]}),e.currentSalary&&t.jsxs("div",{className:"small",children:["ðŸ’° ",t.jsx("strong",{children:"Current:"})," ",e.currentSalary]}),e.expectedSalary&&t.jsxs("div",{className:"small",children:["ðŸ’µ ",t.jsx("strong",{children:"Expected:"})," ",e.expectedSalary]}),e.noticePeriod&&t.jsxs("div",{className:"small",children:["â±ï¸ ",t.jsx("strong",{children:"Notice:"})," ",e.noticePeriod]}),e.source&&t.jsxs("div",{className:"small",children:["ðŸ“Œ ",t.jsx("strong",{children:"Source:"})," ",e.source]}),e.location&&t.jsxs("div",{className:"small",children:["ðŸ“ ",t.jsx("strong",{children:"Location:"})," ",e.location]})]}),t.jsxs("div",{style:{marginTop:8,display:"flex",gap:8,flexWrap:"wrap"},children:[t.jsxs("span",{className:"badge",children:["Req: ",e.requirementId]}),t.jsx("span",{className:"badge",style:{background:"var(--primary)",color:"#fff"},children:"Final Decision"})]}),t.jsxs("div",{style:{marginTop:12,padding:"10px 12px",background:"var(--gray-100)",borderRadius:"var(--radius)"},children:[t.jsx("div",{className:"small",style:{fontWeight:600,marginBottom:6},children:"Scores"}),t.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[t.jsxs("span",{className:"badge",style:{background:String(e.onlineTestResult||"").toUpperCase()==="PASS"?"#22c55e":String(e.onlineTestResult||"").toUpperCase()==="FAIL"?"#ef4444":void 0,color:String(e.onlineTestResult||"").toUpperCase()?"#fff":void 0},children:["Online Test: ",e.onlineTestScore===""||e.onlineTestScore==null?"-":e.onlineTestScore,e.onlineTestResult?` (${String(e.onlineTestResult).toUpperCase()})`:""]}),String(e.onlineTestResult||"").toUpperCase()==="FAIL"&&oe(e,"ONLINE_TEST")?t.jsx("span",{className:"badge",style:{background:"#f59e0b",color:"#fff"},children:"Continued by HR"}):null,e.preInterviewMarks&&t.jsxs("span",{className:"badge",children:["Pre-interview: ",e.preInterviewMarks]}),e.inPersonMarks&&t.jsxs("span",{className:"badge",style:{background:"#22c55e",color:"#fff"},children:["In-person: ",e.inPersonMarks,"/10"]})]}),t.jsx("div",{className:"small",style:{marginTop:8,fontWeight:600},children:"Required Tests"}),t.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap",marginTop:6},children:Array.isArray(s)&&s.length?s.map(n=>t.jsxs("span",{className:"badge",style:We(n.status),children:[n.label||n.testKey,": ",Te(n.status),n.marksNumber!=null?` (${n.marksNumber}/10)`:""]},n.testKey)):t.jsx("span",{className:"badge",children:"No required tests"})}),Array.isArray(s)&&s.length?t.jsx("div",{className:"small",style:{marginTop:6,display:"grid",gap:4},children:s.map(n=>t.jsxs("div",{children:[t.jsx("span",{style:{fontWeight:600},children:n.label||n.testKey}),n.filledAt?` Â· Filled: ${n.filledBy||"-"} (${ie(n.filledAt)})`:"",n.reviewedAt?` Â· Reviewed: ${n.reviewedBy||"-"} (${ie(n.reviewedAt)})`:"",n.remarks?` Â· ${n.remarks}`:""]},n.testKey))}):null]})]})]}),t.jsxs("div",{className:"action-grid",style:{minWidth:180},children:[t.jsx("button",{className:"button",type:"button",onClick:()=>z(e),children:"ðŸ“„ CV"}),t.jsxs("button",{className:"button primary",type:"button",onClick:()=>Ie(e),disabled:!!p||!c("OWNER_FINAL_DECIDE",["OWNER","ADMIN"]),children:[p===`${e.candidateId}:FINAL:SELECT`?t.jsx(x,{size:14}):null,"Select"]}),t.jsx("button",{className:"button",type:"button",onClick:()=>{if(!c("OWNER_FINAL_DECIDE",["OWNER","ADMIN"])){l.error("Not allowed");return}he(e)},disabled:!c("OWNER_FINAL_DECIDE",["OWNER","ADMIN"]),children:"Hold / Reject"})]})]})},e.candidateId)})})]})})}),u.open&&t.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.5)",display:"grid",placeItems:"center",padding:16,zIndex:60},onClick:()=>I({open:!1,mode:"OWNER",candidate:null}),children:t.jsxs("div",{className:"card",style:{width:"min(520px, 95vw)",maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[t.jsx("h3",{style:{marginTop:0,marginBottom:4},children:u.mode==="FINAL"?"Owner Final Decision":"Owner Decision"}),t.jsxs("div",{className:"small",style:{color:"var(--gray-500)",marginBottom:16},children:[R(u.candidate)||((G=u.candidate)==null?void 0:G.candidateId),R(u.candidate)&&((Y=u.candidate)!=null&&Y.candidateId)?` (${u.candidate.candidateId})`:""]}),t.jsxs("div",{style:{display:"grid",gap:12},children:[u.mode!=="FINAL"&&t.jsxs("div",{children:[t.jsx("label",{className:"small",style:{fontWeight:600,display:"block",marginBottom:4},children:"Hold deadline (required for Hold)"}),t.jsx("input",{type:"datetime-local",value:T,onChange:e=>L(e.target.value),style:{width:"100%"}})]}),t.jsxs("div",{children:[t.jsx("label",{className:"small",style:{fontWeight:600,display:"block",marginBottom:4},children:"Remark (required for Reject)"}),t.jsx("textarea",{rows:3,value:w,onChange:e=>W(e.target.value),style:{width:"100%"},placeholder:"Enter remark..."})]})]}),t.jsxs("div",{style:{marginTop:16,display:"flex",gap:8,justifyContent:"flex-end",flexWrap:"wrap"},children:[u.mode==="FINAL"?t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"button",type:"button",onClick:()=>J("HOLD"),disabled:!!p,children:[p===`${(Q=u.candidate)==null?void 0:Q.candidateId}:FINAL:HOLD`?t.jsx(x,{size:14}):null,"Hold"]}),t.jsxs("button",{className:"button danger",type:"button",onClick:()=>J("REJECT"),disabled:!!p,children:[p===`${(X=u.candidate)==null?void 0:X.candidateId}:FINAL:REJECT`?t.jsx(x,{size:14}):null,"Reject"]})]}):t.jsxs(t.Fragment,{children:[t.jsxs("button",{className:"button primary",type:"button",onClick:()=>P("APPROVE_WALKIN"),disabled:!!p||!c("OWNER_DECIDE",["OWNER","ADMIN"])||!q("BTN_OWNER_APPROVE_WALKIN",["OWNER","ADMIN"]),children:[p===`${(Z=u.candidate)==null?void 0:Z.candidateId}:APPROVE_WALKIN`?t.jsx(x,{size:14}):null,"Approve"]}),t.jsxs("button",{className:"button",type:"button",onClick:()=>P("HOLD"),disabled:!!p||!c("OWNER_DECIDE",["OWNER","ADMIN"]),children:[p===`${(ee=u.candidate)==null?void 0:ee.candidateId}:HOLD`?t.jsx(x,{size:14}):null,"Hold"]}),t.jsxs("button",{className:"button danger",type:"button",onClick:()=>P("REJECT"),disabled:!!p||!c("OWNER_DECIDE",["OWNER","ADMIN"]),children:[p===`${(te=u.candidate)==null?void 0:te.candidateId}:REJECT`?t.jsx(x,{size:14}):null,"Reject"]})]}),t.jsx("button",{className:"button",type:"button",onClick:()=>I({open:!1,mode:"OWNER",candidate:null}),children:"Close"})]})]})}),t.jsx(De,{open:_.open,onClose:()=>K({open:!1,candidate:null}),cvFileId:(ae=_.candidate)==null?void 0:ae.cvFileId,token:d,candidate:_.candidate}),t.jsx(we,{open:y.open,title:y.title,current:y.current,total:y.total,errors:y.errors,onClose:()=>j({open:!1,title:"",current:0,total:0,errors:[]})}),t.jsx(le,{selectedCount:Object.keys(v).length,onClearSelection:()=>A({}),loading:y.open,actions:[{label:"Bulk Approve",onClick:je,variant:"primary",icon:"âœ“",disabled:!c("OWNER_DECIDE",["OWNER","ADMIN"])}]}),t.jsx(le,{selectedCount:Object.keys(b).length,onClearSelection:()=>k({}),loading:y.open,actions:[{label:"Bulk Select",onClick:Ee,variant:"primary",icon:"âœ“",disabled:!c("OWNER_FINAL_DECIDE",["OWNER","ADMIN"])}]})]})}export{$e as OwnerPage};
