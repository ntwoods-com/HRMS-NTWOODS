const l={h:9,m:30},d={h:18,m:30};function c(n){return n.h*60+n.m}function a(n){const i=String(n||"").trim(),e=/^(\d{1,2}):(\d{2})$/.exec(i);if(!e)return null;const r=Number(e[1]),t=Number(e[2]);return!Number.isFinite(r)||!Number.isFinite(t)||r<0||r>23||t<0||t>59?null:{h:r,m:t}}function f(n){const i=String(n||"").trim(),e=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})$/.exec(i);if(!e)return null;const r=Number(e[1]),t=Number(e[2]),u=Number(e[3]),o=Number(e[4]),s=Number(e[5]),m=new Date(r,t-1,u,o,s,0,0);return Number.isNaN(m.getTime())?null:m}function N(n){return n instanceof Date&&!Number.isNaN(n.getTime())&&n.getDay()===0}function b(n,{allowSunday:i=!1,workStart:e="09:30",workEnd:r="18:30"}={}){const t=f(n);if(!t)return{ok:!1,code:"INVALID",message:"Invalid date/time"};if(!i&&N(t))return{ok:!1,code:"SUNDAY",message:"Sunday scheduling is not allowed"};const u=a(e)??l,o=a(r)??d,s=t.getHours()*60+t.getMinutes();return s<c(u)||s>c(o)?{ok:!1,code:"WORKING_HOURS",message:`Allowed time: ${e}â€“${r}`}:{ok:!0,date:t}}export{b as v};
